<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Example02:bcp02-ft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
       function _xmlRequest(reqConfig, callback) {
    let { uri, method, timeout, body } = reqConfig;
    body = JSON.stringify(body)
    let hasCallbacked = false;
    var xhr = new XMLHttpRequest(); //创建XMLHttpRequest对象
    xhr.open(method, uri, true); //设置和服务器交互的参数
    xhr.setRequestHeader("Content-Type", "application/json;charset=utf-8");
    xhr.onreadystatechange = function () {
      //注册回调的方法，发送成功后执行
      if (hasCallbacked) return;
      var response = xhr.responseText;
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status <= 207) {
        hasCallbacked = true;
        callback(null, response);
      } else {
        if (xhr.status == 200) {

        } else {
          hasCallbacked = true;
          // callback("EC_REQ_FAILED");
        }
      }
    };
    xhr.ontimeout = function (argument) {
      if (hasCallbacked) return;
      hasCallbacked = true;
      callback("EC_REQ_TIMEOUT");
    };
    xhr.onerror = function () {
      if (hasCallbacked) return;
      hasCallbacked = true;
      callback("EC_REQ_FAILED");
    };
    xhr.timeout = timeout;
    if (method == "POST") {
      xhr.send(body);
    } else {
      xhr.send();
    }
  }

let uri = "https://api.satotx.com/utxo-spend-by-utxo/ebb8ca9cf6f94b308872a8c15c6aff7aa40f8fc491433f8b7a98b2698edda964/0/30ebdd9d68eda2fe171ba0423ff6a1c491a78851cf3e1fdf7a4d6d7cc5f76db6/0"
  // uri = "https://api.sensiblequery.com/pushtx";
  const reqData = {
      uri,
      method: "POST",
      body: {"txHex":"1111","byTxHex":"11"},
      timeout: 100000,
    };
      _xmlRequest(reqData, (err, body) => {
        console.log(err,body)
      });
    </script>
  </head>
  <body></body>
</html>
